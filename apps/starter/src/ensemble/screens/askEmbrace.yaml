View:
  header:
    # title: Ask Embrace string
    title:
      Text:
        text: Ask Embrace header
        styles:
          fontSize: 25
    styles:
      titleBarHeight: 100
      backgroundColor: "#f0f0f0"
      centerTitle: true
      color: "#00f0f0"
      titleColor: "#0000f0"

  body:
    Column:
      children:
        - Row:
            item-template:
              data: [0, 2, 4, 6, 8]
              name: i
              template:
                Text:
                  text: ${i}
                  styles:
                    color: "red"
                    fontSize: 20
            children:
              - Text:
                  text: row
                  styles:
                    color: "green"
        - Row:
            children:
              - Text:
                  text: row
                  styles:
                    color: "green"
            item-template:
              data: [0, 2, 4, 6, 8]
              name: i
              template:
                Text:
                  text: ${i}
                  styles:
                    color: "red"
                    fontSize: 20
        - Column:
            children:
              - Text:
                  text: head
                  styles:
                    color: "purple"
            item-template:
              data: [1, 3, 5]
              name: i
              template:
                Text:
                  text: ${i}
                  styles:
                    color: "blue"
        - Column:
            item-template:
              data: [7, 9]
              name: i
              template:
                Text:
                  text: ${i}
                  styles:
                    color: "violet"
            children:
              - Text:
                  text: foot
                  styles:
                    color: "orange"

        - Markdown:
            id: askText
            text: "### Toggle Buttons"

        - ToggleButton:
            id: myToggleButton
            styles:
              margin: 5
              spacing: 10
              runSpacing: 3
              color: black
              selectedColor: yellow
              backgroundColor: white
              selectedBackgroundColor: pink
              selectedBorderColor: blue
              borderColor: green
            value: red
            items:
              # - red
              # - yellow
              - blue
              - { "label": "Red", "value": "red", "icon": { "name": "Star" } }
              # - {
              #     "label": "Green",
              #     "value": "green",
              #     "icon": { "name": "Add", "color": "blue", "size": 22 },
              #   }
              # - { "label": "Orange", "value": "orange" }
              # - label: Red
              #   value: red
              #   icon:
              #     name: Star
              - label: Green
                value: green
                icon:
                  name: Add
                  color: blue
                  size: 22
              # - label: Yellow
              #   value: yellow
            onChange:
              executeCode:
                body: |-
                  console.log('toggle button changed: ' + myToggleButton.value);

        - Form:
            styles:
              labelPosition: start
            onSubmit:
              executeCode: console.log("Hello")
            children:
              - TextInput:
                  label: Name
                  value: foo
              - Checkbox:
                  id: myCheckbox
                  trailingText: I can be set to checked
                  value: false
                  enabled: true
              - Date:
                  id: myDate
                  label: Example 1 - Date picker
                  hintText: Placeholder value
                  initialValue: "2023-12-20"
                  # enabled: false
                  # firstDate: "2023-12-15"
                  # lastDate: "2023-12-25"
                  onChange:
                    executeCode:
                      body: |-
                        console.log(myDate)
              - Button:
                  label: Submit
                  submitForm: true
                  onTap:
                    executeCode: console.log(myCheckbox)
              - Button:
                  label: Cancel
                  onTap:
                    closeAllDialogs:

        # Not working (potential cause: id of pickFiles hasn't yet registered when uploadFiles is using it)
        - Column:
            children:
              - Button:
                  label: Upload Files
                  onTap:
                    pickFiles:
                      id: myFiles
                      allowMultiple: true
                      allowedExtensions:
                        - jpg
                        - png
                        - mov
                      onComplete:
                        uploadFiles:
                          id: myUploader
                          files: ${myFiles.files}
                          uploadApi: uploadFile
                          onComplete:
                            executeCode: console.log(myUploader.body)
                          onError:
                            executeCode: console.log('Upload error')

              # working fine
              # - Column:
              #     children:
              #       - Button:
              #           label: Pick Files
              #           onTap:
              #             pickFiles:
              #               id: myFiles
              #               allowMultiple: true
              #               allowedExtensions:
              #                 - jpg
              #                 - png
              #                 - mov
              #               onComplete:
              #                 executeCode: console.log('Files picked')
              #       - Conditional:
              #           conditions:
              #             - if: ${myFiles.files.length > 0}
              #               Column:
              #                 children:
              #                   - Markdown:
              #                       text: "## Picked files"
              #                   - DataGrid:
              #                       DataColumns:
              #                         - label: Name
              #                         - label: Size
              #                         - label: Type
              #                         - label: Last Modified
              #                       item-template:
              #                         data: myFiles.files
              #                         name: f
              #                         template:
              #                           DataRow:
              #                             children:
              #                               - Text:
              #                                   text: ${f.name}
              #                               - Text:
              #                                   text: ${f.size}
              #                               - Text:
              #                                   text: ${f.type}
              #                               - Text:
              #                                   text: ${f.lastModified}

              #       - Button:
              #           label: Upload Files
              #           onTap:
              #             uploadFiles:
              #               id: myUploader
              #               files: ${myFiles.files}
              #               uploadApi: uploadFile
              #               # inputs:
              #               #   dummy: 123
              #               # fieldName: xyz-2
              #               onComplete:
              #                 executeCode: console.log('Upload complete')
              #               onError:
              #                 executeCode: console.log('Upload error')
              - Text:
                  text: ${myUploader.progress}
              - Text:
                  text: ${myUploader.status}
              - Button:
                  label: tap me to log body
                  onTap:
                    executeCode: console.log(myUploader.body)
              - Button:
                  label: tap me to log headers
                  onTap:
                    executeCode: console.log(myUploader.headers)
              - GridView:
                  styles:
                    horizontalTileCount: 1
                  item-template:
                    data: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
                    name: i
                    template:
                      Text:
                        text: ${i}

  footer:
    children:
      - Button:
          label: Let's Go
    styles:
      backgroundColor: "#f0f0f0"
      height: 100px

API:
  uploadFile:
    # inputs:
    #   - dummy
    uri: https://upload.uploadcare.com/base/
    #?sjn=${he.text}&dummy=${dummy}
    method: POST
    body:
      UPLOADCARE_PUB_KEY: be316c999f9ffdf188a8
      # dummy: ${askText.text}
