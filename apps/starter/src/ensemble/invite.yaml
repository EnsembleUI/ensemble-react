View:
  header:
    Text:
      text: Invite users
      styles:
        fontSize: 24
        fontWeight: 500
  body:
    Form:
      styles:
        labelPosition: top
        gap: 20
      onSubmit:
        executeCode: |
          const firstName = groupName.value
          const email = emailValue.value[0]
          const res = ensemble.storage.get("arrayOfUsers")
          res.push({"id": res.length+1, "firstName": firstName, "email": email })
      children:
        - MultiSelect:
            id: addUserValues
            data: getData.body.users
            labelKey: email
            valueKey: email
            default:
              [
                { value: "jack", label: "jack" },
                { value: "lucy", label: "lucy" },
              ]
            placeholder: "Select From Groups"
        - Divider:
            styles:
              thickness: 1
              color: "#ECEFF6"
        - MultiSelect:
            id: addUserValues
            data: getData.body.users
            labelKey: email
            valueKey: email
            default:
              [
                { value: "jack", label: "jack" },
                { value: "lucy", label: "lucy" },
              ]
            placeholder: Groups (Optional). Start typing or select from below...
        - Carousel:
            styles:
              layout: multiple
              multipleItemWidthRatio: 0.2
              gap: 10
              indicatorType: none
            item-template:
              data: ensemble.storage.get("arrayOfUsers")
              name: user
              template:
                Row:
                  mainAxis: center
                  styles:
                    backgroundColor: "#EBEEF6"
                    borderRadius: "6px"
                    padding: 12
                  children:
                    - Text:
                        text: ${user.firstName}
                        styles:
                          color: "#171B2A"
                          fontSize: 14

        - Divider:
            styles:
              thickness: 1
              color: "#ECEFF6"
        - Row:
            mainAxis: end
            crossAxis: center
            styles:
              gap: 16
            children:
              - Button:
                  label: Cancel
                  styles:
                    backgroundColor: transparent
                    border: "0px"
                    color: black
              - Button:
                  label: Send Invitation
                  submitForm: true
                  startingIcon:
                    name: Send
                    color: white
                    size: 22
                  onTap:
                    showToast:
                      message: ${"Created new user " + groupName.value}
                  styles:
                    backgroundColor: black
                    color: white
                    padding: 24
