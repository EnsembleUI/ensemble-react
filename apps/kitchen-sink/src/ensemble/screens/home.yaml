View:
  body:
    Column:
      styles:
        names: page
        crossAxis: stretch
        gap: 12px
      children:
        - Button:
            label: Upload File
            onTap:
              pickFiles:
                allowedExtensions:
                  - pdf
                  - docx
                  - jpg
                  - jpeg
                  - png
                onComplete:
                  executeCode:
                    body: |-
                      console.log('1st: >>>')
                      ensemble.storage.set('uploadingFiles', true)
                    onComplete:
                      invokeApi:
                        name: createMediaByName
                        inputs:
                          userId: ${userId}
                        onResponse:
                          uploadFiles:
                            files: ${files}
                            uploadApi: uploadFile
                            onComplete:
                              executeCode: |
                                console.log('2nd: >>>>>>')

Global: |
  const tenant = 'yash'
  const userId = 5
  const requestId = 5
  const patientId = '123'
  const doc = {document_type: 'mp4'}

API:
  createMediaByName:
    method: POST
    uri: https://dummyjson.com/posts/add
    inputs:
      - userId
    body:
      userId: ${userId}
  uploadFile:
    method: POST
    uri: https://api.imgbb.com/1/upload?key=49b571061eaed3f27a1a0a225d32d8b4
