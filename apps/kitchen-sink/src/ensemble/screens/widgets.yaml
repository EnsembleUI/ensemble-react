View:
  onLoad:
    invokeApi:
      name: getDummyNumbers

  header:
    title:
      Header:

  body:
    Column:
      crossAxis: stretch
      gap: 12px
      styles:
        names: page
      children:
        - Text:
            styles:
              names: heading-1
            text: Widgets
        - Markdown:
            text: More to come! In the meantime, checkout the Ensemble [documentation](https://docs.ensembleui.com/).

        - Card:
            styles:
              maxWidth: unset
              width: unset
              gap: 10px
            children:
              - Text:
                  styles:
                    names: heading-3
                  text: DataGrid
              - DataGrid:
                  id: "myDataGridExample"
                  onRowsSelected:
                    executeCode: |
                      console.log("data", selectedRows, selectedRowKeys);
                  allowSelection: true
                  styles:
                    headerStyle:
                      backgroundColor: "white"
                      fontSize: "12px"
                      textColor: "#747184"
                      hasDivider: true
                      borderBottom: false
                  DataColumns:
                    - label: PATIENT
                    - label: ADVOCATE
                    - label: ICON
                    - label: MENU
                  scroll:
                    scrollHeight: 400
                  item-template:
                    data:
                      [
                        { key: "1", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "2",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "3", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "4",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "5", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "6",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "7", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "8",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "9", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "10",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "11", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "12",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "13", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "14",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "15", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "16",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "17", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "18",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "19", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "20",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "21", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "22",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "23", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "24",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "25", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "26",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "27", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "28",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "29", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "30",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "31", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "32",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "33", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "34",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "35", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "36",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "37", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "38",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "39", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "40",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "41", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "42",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "43", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "44",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "45", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "46",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "47", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "48",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "49", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "50",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "51", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "52",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "53", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "54",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "55", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "56",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "57", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "58",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "59", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "60",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "61", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "62",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                        { key: "63", patient: "John", advocate: "Mike Ross" },
                        {
                          key: "64",
                          patient: "Reuben",
                          advocate: "Harvey Dent",
                        },
                      ]
                    name: dummyData
                    key: ${dummyData.key}
                    template:
                      DataRow:
                        children:
                          - Text:
                              id: ${dummyData.patient+"Name"}
                              text: ${dummyData.patient}
                          - Text:
                              id: ${dummyData.patient+"Adv"}
                              text: ${dummyData.advocate}
                          - Icon:
                              name: Add
                              onTap:
                                showDialog:
                                  widget:
                                    Text:
                                      text: "Added!"
                          - PopupMenu:
                              items:
                                - label:
                                    Text:
                                      text: ${spacing.pagePadding}
                                  value: name
                                - label: Location
                                  value: location
                              item-template:
                                data:
                                  [
                                    { name: "hello", value: 11 },
                                    { name: "buyyy", value: 22 },
                                  ]
                                name: product
                                value: ${product.value}
                                template:
                                  Text:
                                    text: ${product.name}
                              widget:
                                Icon:
                                  name: QuestionMark
        - Card:
            styles:
              maxWidth: unset
              width: unset
              gap: 10px
            children:
              - Text:
                  styles:
                    names: heading-3
                  text: Charts
              - Column:
                  styles:
                    display: grid
                    gridTemplateColumns: 50% 50%
                  children:
                    - Chart:
                        id: myBarChart
                        styles:
                          width: 90%
                        config: |-
                          {
                            type: 'bar',
                            title: "I am Bar",
                            data:
                              {
                                labels:
                                  [
                                    "Jan",
                                    "Feb",
                                    "Mar",
                                    "Apr",
                                    "May",
                                    "Jun",
                                    "Jul",
                                    "Aug",
                                    "Sep",
                                  ],
                                datasets:
                                  [
                                    {
                                      label: 'Matched',
                                      data: "${getDummyNumbers.body}",
                                      backgroundColor: '#5542f6',
                                      barPercentage: 0.8,
                                      borderRadius: 3,
                                    },
                                    {
                                      label: "Enrolled",
                                      data: [65, 59, 80, 81, 56, 55, 40, 50, 60],
                                      backgroundColor: "${getDummyNumbers.body.length > 1 ? '#01a4ff' : 'yellow'}",
                                      barPercentage: 0.4,
                                      borderRadius: 10,
                                    },
                                  ],
                              },
                            options:
                              {
                                plugins: {
                                  title: {
                                    "display": false
                                  },
                                  tooltip: {
                                    callbacks: {
                                      label: function (context) {
                                        let label = context.dataset.label || '';

                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(context.parsed.y);
                                        }
                                        return label;
                                      }
                                    }
                                  }
                                }
                              }  
                          }
                    - Chart:
                        id: myDoughnutChart
                        config: |
                          {
                            type: 'doughnut',
                            title: "I am Doughnut",
                            data:
                              {
                                labels: ["Red", "Blue", "Yellow"],
                                datasets:
                                  [
                                    {
                                      label: "",
                                      data: "${getDummyNumbers.body?.slice(0, 3)}",
                                      backgroundColor:
                                        [
                                          "rgb(255, 99, 132)",
                                          "rgb(54, 162, 235)",
                                          "rgb(255, 205, 86)",
                                        ],
                                      hoverOffset: 4,
                                      borderWidth: 1,
                                    },
                                  ]
                              },
                            options:
                              {
                                plugins: {
                                  legend: {
                                    "display": false
                                  },
                                },
                                cutout: '50%'
                              }
                          }
                    - Chart:
                        id: myLineChart
                        config: |
                          {
                            type: 'line',
                            title: "I am Line",
                            data:
                              {
                                labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep"],
                                datasets:
                                  [
                                    {
                                      label: "legend is displayed",
                                      data: [65, 59, 80, 81, 56, 55, 40, 50, 60],
                                    },
                                  ]
                              }
                          }

        - Card:
            styles:
              maxWidth: unset
              width: unset
              gap: 10px
            children:
              - Text:
                  styles:
                    names: heading-3
                  text: Dropdown
              - Dropdown:
                  label: Simple
                  hintText: Hint Text
                  items:
                    - label: Option 1
                      value: 1
                    - label: Option 2
                      value: 2
              - Dropdown:
                  id: myDropdown
                  label: With Default Value
                  value: 1
                  styles:
                    dropdownBackgroundColor: "aqua"
                    dropdownBorderWidth: 1
                    dropdownBorderColor: "lime"
                    backgroundColor: "yellow"
                    selectedBackgroundColor: "gray"
                    selectedTextColor: "purple"
                  items:
                    - label: Option 1
                      value: 1
                    - label: Option 2
                      value: 2
              - Dropdown:
                  label: Searchable
                  hintText: Search
                  autoComplete: true
                  hintStyle:
                    color: "red"
                    fontSize: 20px
                  items:
                    - label: Option 1
                      value: option1
                    - label: Option 2
                      value: option2
              - Dropdown:
                  id: myDropdown4
                  label: With item template
                  labelStyle:
                    color: green
                    fontSize: 20
                    backgroundColor: "lightgreen"
                    borderRadius: 10
                  item-template:
                    data:
                      [
                        { name: "hello", value: 11 },
                        { name: "buyyy", value: 22 },
                      ]
                    name: product
                    value: ${product.value}
                    template:
                      Text:
                        text: ${product.name}
                  items:
                    - label: Option 1
                      value: option1
                    - label: Option 2
                      value: option2
              - Dropdown:
                  label: With the label widget
                  hintText: Hint Text
                  items:
                    - label:
                        Text:
                          text: Here is my label 1
                      value: 111
                    - label:
                        Text:
                          text: Here is my label 2
                      value: 222

        - Card:
            styles:
              maxWidth: unset
              width: unset
            children:
              - Form:
                  styles:
                    labelPosition: top
                    gap: 20px
                  children:
                    - Text:
                        styles:
                          names: heading-3
                        text: Date Picker
                    - Date:
                        label: Example 1 - Date picker
                        hintText: Placeholder value
                        showCalendarIcon: false
                        styles:
                          width: 300px
                    - Date:
                        label: Example 2 - Date picker with restricted range
                        initialValue: "2021-01-20"
                        firstDate: "2021-01-15"
                        lastDate: "2021-01-25"
                    - Date:
                        id: onChangeDemoDate
                        label: Example 3 - onChange
                        hintText: Select a date
                        onChange:
                          executeCode:
                            body: |-
                              console.log(onChangeDemoDate);
                              onChangeDemo.setText('You selected: ' + onChangeDemoDate.value);
                    - Text:
                        id: onChangeDemo

API:
  getDummyNumbers:
    method: GET
    uri: https://mocki.io/v1/c1f19d68-e6c8-4ae3-848d-d99e588cf224
