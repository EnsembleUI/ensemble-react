View:
  onLoad:
    invokeApi:
      name: getDummyNumbers

  header:
    title:
      Header:

  body:
    Column:
      crossAxis: stretch
      gap: 12px
      styles:
        names: page
      children:
        - Text:
            styles:
              names: heading-1
            text: Widgets
        - Markdown:
            text: More to come! In the meantime, checkout the Ensemble [documentation](https://docs.ensembleui.com/).

        - Markdown:
            text: "## Collapse"
        - Collapsible:
            id: collapseWidget
            collpaseIcon:
              name: HomeOutlined
            expandIcon:
              name: WidgetsOutlined
            expandIconPosition: "end"
            item-template:
              data:
                [
                  { key: "1", name: "Label 1", std: "Hello" },
                  { key: "2", name: "Label 2", std: "Hello 123" },
                  { key: "3", name: "Label 3", std: "Hello 456" },
                ]
              name: item
              template:
                collapsibleItem:
                  key: ${item.key}
                  label: ${item.name}
                  children: ${item.std}
            onCollapse:
              executeCode: |
                console.log('Hello', data, collapseWidget)
        - Collapsible:
            expandIconPosition: "end"
            items:
              - key: "1"
                label:
                  Text:
                    text: Here is my label 1
                children: hiii
              - key: "2"
                label: Here is my label 2
                children:
                  Text:
                    text: Here is my value 2
            onCollapse:
              executeCode: |
                console.log('Hello', data)

        - Card:
            styles:
              maxWidth: unset
              width: unset
              gap: 10px
              backgroundColor: "#f5f5f5"
            children:
              - Text:
                  styles:
                    names: heading-3
                  text: Dropdown
              - Dropdown:
                  label: Simple
                  hintText: Hint Text
                  items:
                    - label: Option 1
                      value: 1
                    - label: Option 2
                      value: 2
              - Dropdown:
                  id: myDropdown
                  label: With Default Value
                  value: 1
                  styles:
                    dropdownBackgroundColor: "aqua"
                    dropdownBorderWidth: 1
                    dropdownBorderColor: "lime"
                    backgroundColor: "yellow"
                    selectedBackgroundColor: "gray"
                    selectedTextColor: "purple"
                  items:
                    - label: Option 1
                      value: 1
                    - label: Option 2
                      value: 2
              - Dropdown:
                  label: Searchable
                  hintText: Search
                  autoComplete: true
                  hintStyle:
                    color: "red"
                    fontSize: 20px
                  items:
                    - label: Option 1
                      value: option1
                    - label: Option 2
                      value: option2
              - Dropdown:
                  id: myDropdown4
                  label: With item template
                  labelStyle:
                    color: green
                    fontSize: 20
                    backgroundColor: "lightgreen"
                    borderRadius: 10
                  item-template:
                    data:
                      [
                        { name: "hello", value: 11 },
                        { name: "buyyy", value: 22 },
                      ]
                    name: product
                    value: ${product.value}
                    template:
                      Text:
                        text: ${product.name}
                  items:
                    - label: Option 1
                      value: option1
                    - label: Option 2
                      value: option2
              - Dropdown:
                  label: With the label widget
                  hintText: Hint Text
                  items:
                    - label:
                        Text:
                          text: Here is my label 1
                      value: 111
                    - label:
                        Text:
                          text: Here is my label 2
                      value: 222

        - Column:
            crossAxis: stretch
            margin: 20px
            children:
              - Text:
                  styles:
                    names: heading-3
                  text: Charts
              - Column:
                  styles:
                    display: grid
                    gridTemplateColumns: 50% 50%
                  children:
                    - Chart:
                        id: myBarChart
                        styles:
                          width: 90%
                        config: |-
                          {
                            type: 'bar',
                            title: "I am Bar",
                            data:
                              {
                                labels:
                                  [
                                    "Jan",
                                    "Feb",
                                    "Mar",
                                    "Apr",
                                    "May",
                                    "Jun",
                                    "Jul",
                                    "Aug",
                                    "Sep",
                                  ],
                                datasets:
                                  [
                                    {
                                      label: 'Matched',
                                      data: "${getDummyNumbers.body}",
                                      backgroundColor: '#5542f6',
                                      barPercentage: 0.8,
                                      borderRadius: 3,
                                    },
                                    {
                                      label: "Enrolled",
                                      data: [65, 59, 80, 81, 56, 55, 40, 50, 60],
                                      backgroundColor: "${getDummyNumbers.body.length > 1 ? '#01a4ff' : 'yellow'}",
                                      barPercentage: 0.4,
                                      borderRadius: 10,
                                    },
                                  ],
                              },
                            options:
                              {
                                plugins: {
                                  title: {
                                    "display": false
                                  },
                                  tooltip: {
                                    callbacks: {
                                      label: function (context) {
                                        let label = context.dataset.label || '';

                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(context.parsed.y);
                                        }
                                        return label;
                                      }
                                    }
                                  }
                                }
                              }  
                          }
                    - Chart:
                        id: myDoughnutChart
                        config: |
                          {
                            type: 'doughnut',
                            title: "I am Doughnut",
                            data:
                              {
                                labels: ["Red", "Blue", "Yellow"],
                                datasets:
                                  [
                                    {
                                      label: "",
                                      data: "${getDummyNumbers.body?.slice(0, 3)}",
                                      backgroundColor:
                                        [
                                          "rgb(255, 99, 132)",
                                          "rgb(54, 162, 235)",
                                          "rgb(255, 205, 86)",
                                        ],
                                      hoverOffset: 4,
                                      borderWidth: 1,
                                    },
                                  ]
                              },
                            options:
                              {
                                plugins: {
                                  legend: {
                                    "display": false
                                  },
                                },
                                cutout: '50%'
                              }
                          }
                    - Chart:
                        id: myLineChart
                        config: |
                          {
                            type: 'line',
                            title: "I am Line",
                            data:
                              {
                                labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep"],
                                datasets:
                                  [
                                    {
                                      label: "legend is displayed",
                                      data: [65, 59, 80, 81, 56, 55, 40, 50, 60],
                                    },
                                  ]
                              }
                          }
        - Markdown:
            text: "## DataGrids"
        - DataGrid:
            id: "myDataGridExample"
            onRowsSelected:
              executeCode: |
                console.log("data", selectedRows, selectedRowKeys);
            allowSelection: true
            styles:
              headerStyle:
                backgroundColor: "white"
                fontSize: "12px"
                textColor: "#747184"
                hasDivider: true
                borderBottom: false
            DataColumns:
              - label: PATIENT
              - label: ADVOCATE
            item-template:
              data:
                [
                  { key: "1", patient: "John", advocate: "Mike Ross" },
                  { key: "2", patient: "Reuben", advocate: "Harvey Dent" },
                ]
              name: dummyData
              key: ${dummyData.key}
              template:
                DataRow:
                  children:
                    - Text:
                        id: ${dummyData.patient+"Name"}
                        text: ${dummyData.patient}
                    - Text:
                        id: ${dummyData.patient+"Adv"}
                        text: ${dummyData.advocate}
        - Card:
            styles:
              maxWidth: unset
              width: unset
            children:
              - Form:
                  styles:
                    labelPosition: top
                    gap: 20px
                  children:
                    - Text:
                        styles:
                          names: heading-3
                        text: Date Picker
                    - Date:
                        label: Example 1 - Date picker
                        hintText: Placeholder value
                        showCalendarIcon: false
                        styles:
                          width: 300px
                    - Date:
                        label: Example 2 - Date picker with restricted range
                        initialValue: "2021-01-20"
                        firstDate: "2021-01-15"
                        lastDate: "2021-01-25"
                    - Date:
                        id: onChangeDemoDate
                        label: Example 3 - onChange
                        hintText: Select a date
                        onChange:
                          executeCode:
                            body: |-
                              console.log(onChangeDemoDate);
                              onChangeDemo.setText('You selected: ' + onChangeDemoDate.value);
                    - Text:
                        id: onChangeDemo
        - PopupMenu:
            items:
              - label:
                  Text:
                    text: ${spacing.pagePadding}
                value: name
              - label: Location
                value: location
            item-template:
              data: [{ name: "hello", value: 11 }, { name: "buyyy", value: 22 }]
              name: product
              value: ${product.value}
              template:
                Text:
                  text: ${product.name}
            widget:
              Icon:
                name: Add
API:
  getDummyNumbers:
    method: GET
    uri: https://mocki.io/v1/c1f19d68-e6c8-4ae3-848d-d99e588cf224
